# From LandingPage.jsx

const [description, setDescription] = useState('');
  const [committees, setCommittees] = useState([]);
  const skipPersist = useRef(true);

  useEffect(() => {
    try {
      const raw = localStorage.getItem('committees');
      if (raw) setCommittees(JSON.parse(raw));
    } catch (e) {
      console.warn('Failed to load committees', e);
    }
  }, []);

  useEffect(() => {
    if (skipPersist.current) {
      skipPersist.current = false;
      return;
    }
    try {
      localStorage.setItem('committees', JSON.stringify(committees));
    } catch (e) {
      console.warn('Failed to save committees', e);
    }
  }, [committees]);

  const handleCreate = (e) => {
    e.preventDefault();
    if (!name.trim()) return;
    const id = String(Date.now());
    const newCommittee = {
      id,
      name: name.trim(),
      description: description.trim(),
      createdAt: Date.now(),
    };
    setCommittees((c) => [...c, newCommittee]);
    setName('');
    setDescription('');
    setOpen(false);
  };